{"ast":null,"code":"var _jsxFileName = \"/home/lautaro/personal/ReciplasTS/frontend/src/componentes/AGTable.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useMemo, useRef, useCallback } from \"react\";\n// AG-Grid\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/styles/ag-grid.css\";\nimport \"ag-grid-community/styles/ag-theme-alpine.css\";\n\n// La idea es que tengamos una unica funcion AGTable para llamar a todas las tablas, pasandole los parametros para que sean únicas.\n// TODO: Ver como parametrizar las columnas.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function AGTable({\n  endpointPath\n}) {\n  _s();\n  const NumFilter = \"agNumberColumnFilter\";\n  const TextFilter = \"agTextColumnFilter\";\n  const DateFilter = \"agDateColumnFilter\";\n  const gridRef = useRef(null);\n  const defaultColDef = useMemo(() => ({\n    sortable: true,\n    filter: true,\n    resizable: true,\n    floatingFilter: true\n  }), []);\n  const [columnDefs, setColumnDefs] = useState([{\n    field: \"ID\",\n    filter: NumFilter\n  }, {\n    field: \"Producto\",\n    filter: TextFilter\n  }, {\n    field: \"Cantidad\",\n    filter: NumFilter\n  }, {\n    field: \"Precio\",\n    filter: NumFilter\n  }, {\n    field: \"Descripción\",\n    filter: TextFilter\n  }, {\n    field: \"UltimoCambio\",\n    filter: DateFilter\n  }, {\n    field: \"Apellido\",\n    filter: TextFilter\n  }]);\n\n  // En vez de esto:\n  // const [rowData, setRowData] = useState([\n  //     {ID: 1, Producto:\"Paraguas\", Cantidad:\"20\", Precio:\"$1000\", Descripción:\"Morbi ut odio.\", UltimoCambio: \"06/23/2023\"},\n  //     {ID: 2, Producto:\"Mesa\", Cantidad:\"24\", Precio:\"$10000\", Descripción:\"In eleifend quam a odio.\", UltimoCambio: \"04/21/2023\"},\n  //     {ID: 3, Producto:\"Mesa\", Cantidad:\"48\", Precio:\"$2000\", Descripción:\" Cum sociis natoque mus.\", UltimoCambio: \"03/01/2023\"},\n  //     {ID: 4, Producto:\"Zapatillas\", Cantidad:\"59\", Precio:\"$1500\", Descripción:\"Sed vel enim sit.\", UltimoCambio: \"02/25/2023\"},\n  //     {ID: 5, Producto:\"Lampara\", Cantidad:\"17\", Precio:\"$7000\", Descripción:\"Vivamos in felis.\", UltimoCambio: \"02/11/2023\"},\n  //     {ID: 6, Producto:\"Mesa\", Cantidad:\"27\", Precio:\"$500\", Descripción:\"Integer non velit.\", UltimoCambio: \"07/01/2023\"},\n  //     {ID: 7, Producto:\"Lampara\", Cantidad:\"51\", Precio:\"$4000\", Descripción:\"Morbi venstibulum.\", UltimoCambio: \"03/13/2023\"},\n  //     {ID: 8, Producto:\"Mesa\", Cantidad:\"42\", Precio:\"$9000\", Descripción:\"Impsum primis.\", UltimoCambio: \"03/06/2023\"},\n  //     {ID: 9, Producto:\"Anteojos\", Cantidad:\"15\", Precio:\"$3500\", Descripción:\"Sed accumsan felis.\", UltimoCambio: \"08/31/2023\"},\n  //     {ID: 10, Producto:\"Silla\", Cantidad:\"44\", Precio:\"$1000\", Descripción:\"Proin eu mi.\", UltimoCambio: \"05/27/2023\"}\n  // ]);\n\n  // Esto es lo que tendría que ir una vez tengamos el endpoint armado.\n  const [rowData, setRowData] = useState();\n\n  // Acá hay que montar el endpoint de la base de datos para recibir un archivo JSON con los datos.\n  useEffect(() => {\n    fetch(endpointPath).then(result => result.json()).then(rowData => setRowData(rowData));\n  }, []);\n\n  // Esto es para que el ancho de las columnas de la tabla se actualizen para usar todo el ancho de la ventana.\n  const sizeToFit = useCallback(() => {\n    var _gridRef$current, _gridRef$current$api;\n    (_gridRef$current = gridRef.current) === null || _gridRef$current === void 0 ? void 0 : (_gridRef$current$api = _gridRef$current.api) === null || _gridRef$current$api === void 0 ? void 0 : _gridRef$current$api.sizeColumnsToFit({});\n  }, []);\n  useEffect(() => {\n    window.addEventListener('resize', sizeToFit);\n    return () => {\n      window.removeEventListener('resize', sizeToFit);\n    };\n  }, []);\n\n  // TODO: HACER QUE sizeToFit se ejecute cuando se carga la ventana por primera vez.\n  // Me parece que esto no funciona por cómo está definido sizeToFit.\n  // useEffect(() => {\n  //     console.log(\"ACA DEBERIA FUNCIONAR!\")\n  //     sizeToFit\n  // }, []);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ag-theme-alpine\",\n      style: {\n        height: 650\n      },\n      children: /*#__PURE__*/_jsxDEV(AgGridReact, {\n        ref: gridRef,\n        rowData: rowData,\n        columnDefs: columnDefs,\n        defaultColDef: defaultColDef,\n        rowSelection: \"multiple\",\n        animateRows: true,\n        pagination: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n_s(AGTable, \"Kwwce6hy179+mH2rQ29/yVNcALQ=\");\n_c = AGTable;\nvar _c;\n$RefreshReg$(_c, \"AGTable\");","map":{"version":3,"names":["useState","useEffect","useMemo","useRef","useCallback","AgGridReact","jsxDEV","_jsxDEV","AGTable","endpointPath","_s","NumFilter","TextFilter","DateFilter","gridRef","defaultColDef","sortable","filter","resizable","floatingFilter","columnDefs","setColumnDefs","field","rowData","setRowData","fetch","then","result","json","sizeToFit","_gridRef$current","_gridRef$current$api","current","api","sizeColumnsToFit","window","addEventListener","removeEventListener","children","className","style","height","ref","rowSelection","animateRows","pagination","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/lautaro/personal/ReciplasTS/frontend/src/componentes/AGTable.tsx"],"sourcesContent":["import {useState, useEffect, useMemo, useRef, useCallback} from \"react\";\n// AG-Grid\nimport {AgGridReact} from \"ag-grid-react\";\nimport {ColDef, GridApi} from \"ag-grid-community\"\nimport \"ag-grid-community/styles/ag-grid.css\";\nimport \"ag-grid-community/styles/ag-theme-alpine.css\";\n\n// La idea es que tengamos una unica funcion AGTable para llamar a todas las tablas, pasandole los parametros para que sean únicas.\n// TODO: Ver como parametrizar las columnas.\n\nexport function AGTable({endpointPath}:{endpointPath: string }) {\n    const NumFilter  =  \"agNumberColumnFilter\";\n    const TextFilter =  \"agTextColumnFilter\";\n    const DateFilter =  \"agDateColumnFilter\";\n    const gridRef = useRef<AgGridReact | null>(null);\n\n    const defaultColDef = useMemo( () => ({\n        sortable: true,\n        filter: true,\n        resizable: true,\n        floatingFilter: true,\n    }), []);\n\n    const [columnDefs, setColumnDefs] = useState<ColDef[]>([\n        {field: \"ID\", filter: NumFilter,},\n        {field: \"Producto\", filter: TextFilter},\n        {field: \"Cantidad\", filter: NumFilter},\n        {field: \"Precio\", filter: NumFilter},\n        {field: \"Descripción\", filter: TextFilter},\n        {field: \"UltimoCambio\", filter: DateFilter},\n        {field: \"Apellido\", filter: TextFilter}\n    ]);\n    \n    // En vez de esto:\n    // const [rowData, setRowData] = useState([\n    //     {ID: 1, Producto:\"Paraguas\", Cantidad:\"20\", Precio:\"$1000\", Descripción:\"Morbi ut odio.\", UltimoCambio: \"06/23/2023\"},\n    //     {ID: 2, Producto:\"Mesa\", Cantidad:\"24\", Precio:\"$10000\", Descripción:\"In eleifend quam a odio.\", UltimoCambio: \"04/21/2023\"},\n    //     {ID: 3, Producto:\"Mesa\", Cantidad:\"48\", Precio:\"$2000\", Descripción:\" Cum sociis natoque mus.\", UltimoCambio: \"03/01/2023\"},\n    //     {ID: 4, Producto:\"Zapatillas\", Cantidad:\"59\", Precio:\"$1500\", Descripción:\"Sed vel enim sit.\", UltimoCambio: \"02/25/2023\"},\n    //     {ID: 5, Producto:\"Lampara\", Cantidad:\"17\", Precio:\"$7000\", Descripción:\"Vivamos in felis.\", UltimoCambio: \"02/11/2023\"},\n    //     {ID: 6, Producto:\"Mesa\", Cantidad:\"27\", Precio:\"$500\", Descripción:\"Integer non velit.\", UltimoCambio: \"07/01/2023\"},\n    //     {ID: 7, Producto:\"Lampara\", Cantidad:\"51\", Precio:\"$4000\", Descripción:\"Morbi venstibulum.\", UltimoCambio: \"03/13/2023\"},\n    //     {ID: 8, Producto:\"Mesa\", Cantidad:\"42\", Precio:\"$9000\", Descripción:\"Impsum primis.\", UltimoCambio: \"03/06/2023\"},\n    //     {ID: 9, Producto:\"Anteojos\", Cantidad:\"15\", Precio:\"$3500\", Descripción:\"Sed accumsan felis.\", UltimoCambio: \"08/31/2023\"},\n    //     {ID: 10, Producto:\"Silla\", Cantidad:\"44\", Precio:\"$1000\", Descripción:\"Proin eu mi.\", UltimoCambio: \"05/27/2023\"}\n    // ]);\n\n    // Esto es lo que tendría que ir una vez tengamos el endpoint armado.\n    const [rowData, setRowData] = useState();\n    \n    // Acá hay que montar el endpoint de la base de datos para recibir un archivo JSON con los datos.\n    useEffect(() => {\n      fetch(endpointPath)\n      .then(result => result.json())\n      .then(rowData => setRowData(rowData))\n      }, []);\n\n    \n    // Esto es para que el ancho de las columnas de la tabla se actualizen para usar todo el ancho de la ventana.\n    const sizeToFit = useCallback(() => {\n        gridRef.current?.api?.sizeColumnsToFit({});\n    }, []);\n    \n    useEffect(() => {\n        window.addEventListener('resize', sizeToFit);\n        return () => {\n        window.removeEventListener('resize', sizeToFit);\n        };\n    }, []);\n\n    // TODO: HACER QUE sizeToFit se ejecute cuando se carga la ventana por primera vez.\n    // Me parece que esto no funciona por cómo está definido sizeToFit.\n    // useEffect(() => {\n    //     console.log(\"ACA DEBERIA FUNCIONAR!\")\n    //     sizeToFit\n    // }, []);\n    \n    return (\n    <div>\n        <div className ='ag-theme-alpine' style={{height: 650}}>\n            <AgGridReact \n                ref = {gridRef}\n                rowData={rowData}\n                columnDefs={columnDefs}\n                defaultColDef ={defaultColDef}\n                rowSelection='multiple'\n                animateRows = {true}\n                pagination = {true}\n            />\n        </div>\n    </div>\n    )\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}