{"ast":null,"code":"var _jsxFileName = \"/home/lautaro/personal/ReciplasTS/frontend/src/componentes/AGTable.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useMemo, useRef, useCallback } from \"react\";\n// AG-Grid\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/styles/ag-grid.css\";\nimport \"ag-grid-community/styles/ag-theme-alpine.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction dynamicColumns(data) {}\nexport function AGTable({\n  endpointPath\n}) {\n  _s();\n  const gridRef = useRef(null);\n  const [rowData, setRowData] = useState();\n  const [columnDefs, setColumnDefs] = useState();\n  const defaultColDef = useMemo(() => ({\n    sortable: true,\n    filter: true,\n    resizable: true,\n    floatingFilter: true\n  }), []);\n  useEffect(() => {\n    // fetch(\"127.0.0.1:8000/api/clientes/\")\n    fetch('https://www.ag-grid.com/example-assets/row-data.json').then(result => result.json()).then(data => {\n      var _gridRef$current, _gridRef$current$api;\n      const colDefs = (_gridRef$current = gridRef.current) === null || _gridRef$current === void 0 ? void 0 : (_gridRef$current$api = _gridRef$current.api) === null || _gridRef$current$api === void 0 ? void 0 : _gridRef$current$api.getColumnDefs();\n      if (colDefs) {\n        colDefs.length = 0;\n        const keys = Object.keys(data[0]);\n        keys.forEach(key => colDefs.push({\n          field: key\n        }));\n        console.log(data);\n      }\n      setColumnDefs(colDefs);\n      setRowData(data);\n    });\n  }, []);\n\n  // Esto es para que el ancho de las columnas de la tabla se actualizen para usar todo el ancho de la ventana.\n  const sizeToFit = useCallback(() => {\n    var _gridRef$current2, _gridRef$current2$api;\n    (_gridRef$current2 = gridRef.current) === null || _gridRef$current2 === void 0 ? void 0 : (_gridRef$current2$api = _gridRef$current2.api) === null || _gridRef$current2$api === void 0 ? void 0 : _gridRef$current2$api.sizeColumnsToFit({});\n  }, []);\n  useEffect(() => {\n    window.addEventListener('resize', sizeToFit);\n    return () => {\n      window.removeEventListener('resize', sizeToFit);\n    };\n  }, []);\n\n  // TODO: HACER QUE sizeToFit se ejecute cuando se carga la ventana por primera vez.\n  // Me parece que esto no funciona por c칩mo est치 definido sizeToFit.\n  // useEffect(() => {\n  //     console.log(\"ACA DEBERIA FUNCIONAR!\")\n  //     sizeToFit\n  // }, []);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ag-theme-alpine\",\n      style: {\n        height: 650\n      },\n      children: /*#__PURE__*/_jsxDEV(AgGridReact, {\n        ref: gridRef,\n        rowData: rowData,\n        columnDefs: columnDefs,\n        defaultColDef: defaultColDef,\n        rowSelection: \"multiple\",\n        animateRows: true,\n        pagination: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(AGTable, \"d4LOoCZnGlevIjBn5lp3MzCwREs=\");\n_c = AGTable;\nvar _c;\n$RefreshReg$(_c, \"AGTable\");","map":{"version":3,"names":["useState","useEffect","useMemo","useRef","useCallback","AgGridReact","jsxDEV","_jsxDEV","dynamicColumns","data","AGTable","endpointPath","_s","gridRef","rowData","setRowData","columnDefs","setColumnDefs","defaultColDef","sortable","filter","resizable","floatingFilter","fetch","then","result","json","_gridRef$current","_gridRef$current$api","colDefs","current","api","getColumnDefs","length","keys","Object","forEach","key","push","field","console","log","sizeToFit","_gridRef$current2","_gridRef$current2$api","sizeColumnsToFit","window","addEventListener","removeEventListener","children","className","style","height","ref","rowSelection","animateRows","pagination","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/lautaro/personal/ReciplasTS/frontend/src/componentes/AGTable.tsx"],"sourcesContent":["import {useState, useEffect, useMemo, useRef, useCallback} from \"react\";\n// AG-Grid\nimport {AgGridReact} from \"ag-grid-react\";\nimport {ColDef, GridApi} from \"ag-grid-community\"\nimport \"ag-grid-community/styles/ag-grid.css\";\nimport \"ag-grid-community/styles/ag-theme-alpine.css\";\n\nfunction dynamicColumns(data: JSON) {\n\n}\n\n\nexport function AGTable({endpointPath}:{endpointPath: string }) {\n\n    const gridRef = useRef<AgGridReact | null>(null);\n    const [rowData, setRowData] = useState();\n    const [columnDefs, setColumnDefs] = useState<ColDef[]>();\n\n    const defaultColDef = useMemo( () => ({\n        sortable: true,\n        filter: true,\n        resizable: true,\n        floatingFilter: true,\n    }), []);\n\n    useEffect(() => {\n      // fetch(\"127.0.0.1:8000/api/clientes/\")\n      fetch('https://www.ag-grid.com/example-assets/row-data.json')\n      .then(result => result.json())\n      .then(data => {\n        const colDefs = gridRef.current?.api?.getColumnDefs();\n        if (colDefs){\n            colDefs.length=0;\n            const keys = Object.keys(data[0])\n            keys.forEach(key => colDefs.push({field : key}));\n            console.log(data)\n        }\n        setColumnDefs(colDefs);\n        setRowData(data);\n        })\n      }, []);\n     \n\n    // Esto es para que el ancho de las columnas de la tabla se actualizen para usar todo el ancho de la ventana.\n    const sizeToFit = useCallback(() => {\n        gridRef.current?.api?.sizeColumnsToFit({});\n    }, []);\n    \n    useEffect(() => {\n        window.addEventListener('resize', sizeToFit);\n        return () => {\n        window.removeEventListener('resize', sizeToFit);\n        };\n    }, []);\n\n    // TODO: HACER QUE sizeToFit se ejecute cuando se carga la ventana por primera vez.\n    // Me parece que esto no funciona por c칩mo est치 definido sizeToFit.\n    // useEffect(() => {\n    //     console.log(\"ACA DEBERIA FUNCIONAR!\")\n    //     sizeToFit\n    // }, []);\n    \n    return (\n    <div>\n        <div className ='ag-theme-alpine' style={{height: 650}}>\n            <AgGridReact \n                ref = {gridRef}\n                rowData={rowData}\n                columnDefs={columnDefs}\n                defaultColDef ={defaultColDef}\n                rowSelection='multiple'\n                animateRows = {true}\n                pagination = {true}\n            />\n        </div>\n    </div>\n    )\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}